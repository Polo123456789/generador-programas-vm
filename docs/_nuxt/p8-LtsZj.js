import{_ as S}from"./GvWCjVqx.js";import{u as A,_ as L}from"./XRFWun5n.js";import{g as M,r as x,l as E,c as a,a as e,b as v,w as f,m as V,k as _,v as B,y as D,z as F,t as r,s as h,F as G,p as $,d as b,o as l,q as d}from"#entry";const j={class:"container p-4"},q={class:"dont-print mb-6"},z={class:"flex justify-between items-center mb-4"},K={class:"bg-gray-50 p-4 rounded-lg mb-6"},O={class:"flex gap-3 items-end"},T={class:"flex-1"},U={key:0,class:"text-red-600 text-sm mt-2"},H={key:0,class:"text-gray-500 text-center py-8"},P={key:1,class:"w-full border-collapse"},R={class:"border px-4 py-2 text-center"},Y={class:"border px-4 py-2 text-center"},J={class:"border px-4 py-2 text-center"},Q=["onClick"],te=M({__name:"students",setup(W){const{students:m,addStudent:k,toggleStudentHidden:w,getLastAssignmentDate:g}=A(),p=x(""),c=x("M"),i=x(""),N=E(()=>[...m.value].sort((n,t)=>n.name.localeCompare(t.name)));function y(){i.value="";const n=p.value.trim();if(!n){i.value="El nombre es requerido";return}if(m.value.some(o=>o.name.toLowerCase()===n.toLowerCase())){i.value="Ya existe un estudiante con ese nombre";return}k(n,c.value),p.value="",c.value="M"}function C(n){const t=g(n,"reading"),o=g(n,"school");if(!t&&!o)return"Nunca";const u=[];return t&&u.push(`Lectura: ${t}`),o&&u.push(`Escuela: ${o}`),u.join(", ")}return(n,t)=>{const o=S,u=L;return l(),a("main",j,[e("div",q,[e("div",z,[t[3]||(t[3]=e("h1",{class:"text-2xl font-bold"},"Gestión de Estudiantes",-1)),v(o,{to:"/",class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700"},{default:f(()=>[...t[2]||(t[2]=[b(" Volver al Programa ",-1)])]),_:1})]),e("div",K,[t[8]||(t[8]=e("h2",{class:"text-lg font-semibold mb-3"},"Añadir Estudiante",-1)),e("div",O,[e("div",T,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium mb-1"},"Nombre",-1)),_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),type:"text",class:"w-full border rounded px-3 py-2",placeholder:"Nombre del estudiante",onKeyup:D(y,["enter"])},null,544),[[B,p.value]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium mb-1"},"Género",-1)),_(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>c.value=s),class:"border rounded px-3 py-2"},[...t[5]||(t[5]=[e("option",{value:"M"},"Masculino",-1),e("option",{value:"F"},"Femenino",-1)])],512),[[F,c.value]])]),v(u,{onClick:y},{default:f(()=>[...t[7]||(t[7]=[b("Añadir",-1)])]),_:1})]),i.value?(l(),a("p",U,r(i.value),1)):V("",!0)]),e("div",null,[t[10]||(t[10]=e("h2",{class:"text-lg font-semibold mb-3"},"Lista de Estudiantes",-1)),h(m).length===0?(l(),a("div",H," No hay estudiantes registrados. Añade el primer estudiante arriba. ")):(l(),a("table",P,[t[9]||(t[9]=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"border px-4 py-2 text-left"},"Nombre"),e("th",{class:"border px-4 py-2 text-center"},"Género"),e("th",{class:"border px-4 py-2 text-left"},"Última Asignación"),e("th",{class:"border px-4 py-2 text-center"},"Estado"),e("th",{class:"border px-4 py-2 text-center"},"Acción")])],-1)),e("tbody",null,[(l(!0),a(G,null,$(N.value,s=>(l(),a("tr",{key:s.id,class:d({"bg-gray-50":s.hidden})},[e("td",{class:d(["border px-4 py-2",{"text-gray-400":s.hidden}])},r(s.name),3),e("td",R,[e("span",{class:d(["text-xs px-2 py-1 rounded",s.gender==="M"?"bg-blue-100 text-blue-800":"bg-pink-100 text-pink-800"])},r(s.gender),3)]),e("td",{class:d(["border px-4 py-2 text-sm",{"text-gray-400":s.hidden}])},r(C(s.id)),3),e("td",Y,[e("span",{class:d(["text-xs px-2 py-1 rounded",s.hidden?"bg-red-100 text-red-800":"bg-green-100 text-green-800"])},r(s.hidden?"Oculto":"Activo"),3)]),e("td",J,[e("button",{onClick:X=>h(w)(s.id),class:d(["text-sm px-3 py-1 rounded",s.hidden?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"])},r(s.hidden?"Mostrar":"Ocultar"),11,Q)])],2))),128))])]))]),t[11]||(t[11]=e("div",{class:"mt-6 text-sm text-gray-600"},[e("p",null,[e("strong",null,"Nota:"),b(" Los estudiantes ocultos no aparecerán en las listas de selección para asignaciones.")])],-1))])])}}});export{te as default};
